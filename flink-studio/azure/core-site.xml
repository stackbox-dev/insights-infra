<?xml version="1.0" encoding="UTF-8"?>
<configuration>
    <!-- Azure Blob Storage Configuration -->
    <property>
        <name>fs.azure.impl</name>
        <value>org.apache.hadoop.fs.azure.NativeAzureFileSystem</value>
        <description>The implementation class of the Azure Blob Storage filesystem</description>
    </property>

    <property>
        <name>fs.azure.account.key</name>
        <value>${AZURE_STORAGE_ACCOUNT_KEY}</value>
        <description>Azure Storage Account Key - will be provided via environment variable</description>
    </property>

    <!-- Alternative: Using Azure Active Directory for authentication -->
    <!-- Uncomment and configure if using AAD instead of storage account key -->
    <!--
    <property>
        <name>fs.azure.account.auth.type</name>
        <value>OAuth</value>
    </property>
    
    <property>
        <name>fs.azure.account.oauth.provider.type</name>
        <value>org.apache.hadoop.fs.azurebfs.oauth2.MsiTokenProvider</value>
    </property>
    -->

    <!-- Performance Configuration -->
    <property>
        <name>fs.azure.block.size</name>
        <value>134217728</value>
        <description>Block size for Azure files (128MB)</description>
    </property>

    <property>
        <name>fs.azure.io.retry.min.backoff.interval</name>
        <value>3000</value>
        <description>Minimum backoff interval in milliseconds</description>
    </property>

    <property>
        <name>fs.azure.io.retry.max.backoff.interval</name>
        <value>30000</value>
        <description>Maximum backoff interval in milliseconds</description>
    </property>

    <property>
        <name>fs.azure.io.retry.max.retries</name>
        <value>30</value>
        <description>Maximum number of retries</description>
    </property>

    <!-- Connection timeout -->
    <property>
        <name>fs.azure.io.read.request.size</name>
        <value>8388608</value>
        <description>Read request size (8MB)</description>
    </property>

    <property>
        <name>fs.azure.concurrent.connection.value.out</name>
        <value>16</value>
        <description>Number of concurrent connections for output</description>
    </property>

    <property>
        <name>fs.azure.concurrent.connection.value.in</name>
        <value>16</value>
        <description>Number of concurrent connections for input</description>
    </property>
</configuration>